<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} | {% endif %}Pablo Rocamora García</title>

    <!-- Meta Description -->
    <meta name="description"
        content="{% if page.description %}{{ page.description }}{% else %}Portfolio personal de Pablo Rocamora García, ingeniero biomédico y especialista en IA, enfocado en aprendizaje automático e imágenes médicas.{% endif %}">

    <!-- Meta Keywords -->
    <meta name="keywords"
        content="{% if page.keywords %}{{ page.keywords }}{% else %}ingeniero biomédico, inteligencia artificial, machine learning, imágenes médicas, tractografía, redes neuronales, Pablo Rocamora{% endif %}">

    <!-- Canonical URL -->
    <link rel="canonical" href="{{ site.url }}{{ page.url }}">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}">
    <meta property="og:url" content="{{ site.url }}{{ page.url }}">
    <meta property="og:title"
        content="{% if page.title %}{{ page.title }}{% else %}Pablo Rocamora García | Biomedical Engineer & AI Specialist{% endif %}">
    <meta property="og:description"
        content="{% if page.description %}{{ page.description }}{% else %}Portfolio personal de Pablo Rocamora García, ingeniero biomédico y especialista en IA, enfocado en aprendizaje automático e imágenes médicas.{% endif %}">
    <meta property="og:image"
        content="{% if page.image %}{{ site.url }}{{ page.image }}{% else %}{{ site.url }}/assets/img/profile.jpg{% endif %}">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ site.url }}{{ page.url }}">
    <meta property="twitter:title"
        content="{% if page.title %}{{ page.title }}{% else %}Pablo Rocamora García | Biomedical Engineer & AI Specialist{% endif %}">
    <meta property="twitter:description"
        content="{% if page.description %}{{ page.description }}{% else %}Portfolio personal de Pablo Rocamora García, ingeniero biomédico y especialista en IA, enfocado en aprendizaje automático e imágenes médicas.{% endif %}">
    <meta property="twitter:image"
        content="{% if page.image %}{{ site.url }}{{ page.image }}{% else %}{{ site.url }}/assets/img/profile.jpg{% endif %}">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="/assets/favicon/site.webmanifest">

    <!-- CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/styles.css">

    <!-- Preconnect to CDNs to improve performance -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
</head>

<body class="bg-gray-100 font-sans">
    <!-- Navegación accesible -->
    <nav class="gradient-bg text-white shadow-lg" role="navigation" aria-label="Navegación principal">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="/" class="text-2xl font-bold" aria-label="Inicio">Pablo Rocamora García</a>
            <button class="md:hidden focus:outline-none" aria-expanded="false" aria-controls="main-menu"
                aria-label="Abrir menú de navegación">
                <i class="fas fa-bars text-xl" aria-hidden="true"></i>
            </button>
            <div id="main-menu" class="hidden md:flex space-x-6" role="menu">
                <a href="/#about" class="hover:text-blue-200 transition" role="menuitem">About</a>
                <a href="/#experience" class="hover:text-blue-200 transition" role="menuitem">Experience</a>
                <a href="/#education" class="hover:text-blue-200 transition" role="menuitem">Education</a>
                <a href="/pages/projects.html" class="hover:text-blue-200 transition" role="menuitem">Projects</a>
                <a href="/#skills" class="hover:text-blue-200 transition" role="menuitem">Skills</a>
                <a href="/pages/research.html" class="hover:text-blue-200 transition" role="menuitem">Research</a>
                <a href="/blog" class="hover:text-blue-200 transition" role="menuitem">Blog</a>
                <a href="/pages/cv.html" class="hover:text-blue-200 transition" role="menuitem">CV</a>
                <a href="/#contact" class="hover:text-blue-200 transition" role="menuitem">Contact</a>
            </div>
        </div>
    </nav>


    <!-- Content -->
    {{ content }}

    <!-- Footer -->
    <footer class="gradient-bg text-white py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p>&copy; {{ site.time | date: '%Y' }} Pablo Rocamora García. All rights reserved.</p>
                </div>
                <div class="flex space-x-4">
                    <a href="https://linkedin.com/in/pablo-rocamora-garcia" target="_blank"
                        class="hover:text-blue-200 transition">
                        <i class="fab fa-linkedin text-xl"></i>
                    </a>
                    <a href="https://github.com/pablorocg" target="_blank" class="hover:text-blue-200 transition">
                        <i class="fab fa-github text-xl"></i>
                    </a>
                    <a href="mailto:rocamoragarcia.pablo@gmail.com" class="hover:text-blue-200 transition">
                        <i class="far fa-envelope text-xl"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script src="/assets/js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const mobileMenuButton = document.querySelector('[aria-controls="main-menu"]');
            const mobileMenu = document.getElementById('main-menu');

            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    const expanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
                    mobileMenuButton.setAttribute('aria-expanded', !expanded);

                    mobileMenu.classList.toggle('hidden');
                    mobileMenu.classList.toggle('flex');
                    mobileMenu.classList.toggle('flex-col');
                    mobileMenu.classList.toggle('absolute');
                    mobileMenu.classList.toggle('top-16');
                    mobileMenu.classList.toggle('right-4');
                    mobileMenu.classList.toggle('bg-gradient-to-r');
                    mobileMenu.classList.toggle('from-blue-800');
                    mobileMenu.classList.toggle('to-blue-900');
                    mobileMenu.classList.toggle('p-4');
                    mobileMenu.classList.toggle('rounded-lg');
                    mobileMenu.classList.toggle('shadow-xl');
                    mobileMenu.classList.toggle('space-y-4');
                    mobileMenu.classList.toggle('z-10');
                });

                // Cerrar menú al presionar Escape
                document.addEventListener('keydown', function (e) {
                    if (e.key === 'Escape' && mobileMenuButton.getAttribute('aria-expanded') === 'true') {
                        mobileMenuButton.click();
                    }
                });
            }
        });
    </script>
</body>

</html>